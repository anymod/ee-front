<!-- Message -->
<div class="container-fluid text-center pad-20 position-relative"
  ng-hide="hideContainer || homepage.ee.Collections.reading">
  <h4 class="font-weight-200">
    A preview of your home page is shown below.
    <br>
    Your store is live at:
  </h4>
  <!-- Domain -->
  <ee-builder-live-button
    ng-if="homepage.ee.User.user"
    message="target"
    btn-class="btn btn-success"
    user="homepage.ee.User.user">
  </ee-builder-live-button>
  <div class="vert-5 margin-bottom-0">
    <a ui-sref="account"><small>Change store URL</small></a>
  </div>
  <!-- /Domain -->
  <div class="position-absolute hover-pointer pad-10" style="top: 0; right: 3px;"
    ng-click="hideContainer = true">
    <i class="fa fa-lg fa-times text-muted"></i>
  </div>
</div>
<!-- !Message -->

<hr class="margin-0" ng-hide="homepage.ee.Collections.reading">

<div class="full-width text-center position-relative hover-trigger"
  ng-hide="homepage.ee.Collections.reading">
  <!-- <a href ng-click="homepage.create()">Create a new collection</a> -->
  <!-- style for preview -->
  <style ng-if="homepage.ee.User.user.storefront_meta">
    .navbar.ee-store-subnav { background-color: {{ homepage.ee.User.user.storefront_meta.brand.color.secondary }}; }
    .navbar.ee-store-subnav .nav > li > a {
      color: {{ homepage.ee.User.user.storefront_meta.brand.color.tertiary }};
      border-bottom: 5px solid {{ homepage.ee.User.user.storefront_meta.brand.color.tertiary }};
    }
  </style>
  <!-- /style for preview -->
  <ee-storefront-header
    meta="homepage.ee.User.user.storefront_meta"
    fluid="true"
    blocked="true"
    ng-hide="homepage.ee.loading"
    style="left:0; right:0; top: 0; z-index: 2;">
  </ee-storefront-header>

  <div class="position-absolute top-left-bottom-right-0 pad-5 hover-visible transition-400"
    style="background-color: rgba(100,100,100,0.8); border: 10px solid #AAA; z-index: 10;">
    <div class="full-width inline-block vert-5 hidden-xs"></div>
    <h3 class="white-color vert-5 margin-top-0">Edit your:</h3>
    <div class="btn btn-default" ng-click="homepage.modalFns.open('edit_store', { type: 'logo' })">Logo</div>
    <div class="btn btn-default" ng-click="homepage.modalFns.open('edit_store', { type: 'colors' })">Colors</div>
    <div class="btn btn-default" ng-click="homepage.modalFns.open('edit_store', { type: 'social' })">
      <span class="hidden-xs">Social Media & Blog</span>
      <span class="visible-xs">Links</span>
    </div>
    <div class="btn btn-default" ng-click="homepage.modalFns.open('edit_store', { type: 'categories' })">Categories</div>
  </div>
</div>

<div ng-hide="homepage.ee.Collections.reading || homepage.ee.Collections.creating"
  class="container max-width-900 text-center vert-50 margin-top-0">

  <!-- <div class="full-width text-center margin-0">
    <uib-pagination ng-if="homepage.ee.Collections.count > homepage.ee.Collections.perPage"
      total-items="homepage.ee.Collections.count"
      items-per-page="homepage.ee.Collections.perPage"
      ng-model="homepage.ee.Collections.page"
      max-size="5"
      class="pagination-sm margin-0 vertical-align-top"
      previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"
      boundary-links="true"
      rotate="false"
      ng-change="homepage.update()">
    </uib-pagination>
  </div> -->

  <div class="vert-20">
    <ee-collection-for-builder
      ng-repeat="collection in homepage.ee.Collections.collections"
      collection="collection">
    </ee-collection-for-builder>
  </div>

  <!-- <div class="full-width text-center margin-0">
    <uib-pagination ng-if="homepage.ee.Collections.count > homepage.ee.Collections.perPage"
      total-items="homepage.ee.Collections.count"
      items-per-page="homepage.ee.Collections.perPage"
      ng-model="homepage.ee.Collections.page"
      max-size="5"
      class="pagination-sm margin-0 vertical-align-top"
      previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"
      boundary-links="true"
      rotate="false"
      ng-change="homepage.update()">
    </uib-pagination>
  </div> -->

</div>

<ee-empty-message
  ng-if="!homepage.ee.Collections.reading && homepage.ee.Collections.homepage.length <= 0"
  main-message="Start your store"
  btn-message="Add collections"
  btn-sref="collectionsAdd"
  sub-message="When you add collections to your store, they will show here.">
</ee-empty-message>

<ee-loading loading="homepage.ee.Collections.reading || homepage.ee.Collections.creating"></ee-loading>
