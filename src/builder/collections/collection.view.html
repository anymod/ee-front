<div class="container text-center vert-20">
  <!-- Navigation -->
  <div class="full-width margin-0-auto max-width-600">
    <h3 class="vert-20 font-weight-200">{{ collectionView.data.collection.title || 'Details' }}</h3>
    <div class="well white-background box-shadow pad-0 overflow-hidden">
      <div class="row margin-0">
        <div ui-sref="collectionView({ id: collectionView.id })" ng-class="{ 'bg-info':collectionView.state == 'collectionView' }" class="col-xs-6 font-weight-200 pad-15 hover-pointer">Details</div>
        <div ui-sref="collectionViewAdd({ id: collectionView.id })" ng-class="{ 'bg-info':collectionView.state == 'collectionViewAdd' }" class="col-xs-6 font-weight-200 pad-15 hover-pointer">Add Products</div>
      </div>
    </div>
  </div>
  <!-- /Navigation -->
</div>

<div ng-hide="collectionView.data.reading" class="container text-center vert-20">
  <!-- FORM -->
  <div class="margin-0-auto max-width-900 pad-10 pad-top-0">
    <div class="well white-background box-shadow">
      <div class="form-horizontal text-left">
        <!-- Link title -->
        <div class="form-group vert-5">
          <label class="col-sm-3 control-label font-weight-200">Collection link title</label>
          <div class="col-sm-4 col-md-3">
            <input type="text" ng-model="collectionView.data.collection.title" class="form-control" placeholder="Collection Title (required)">
          </div>
        </div>
        <!-- /Link title -->
        <!-- Show on home -->
        <div class="form-group vert-5">
          <div class="col-sm-6 col-sm-offset-3">
            <label class="checkbox hover-pointer">
              <input type="checkbox" class="margin-0" style="margin-top: 3px !important;" ng-model="collectionView.data.collection.in_carousel">
              <span style="margin-left: 20px;">Show this collection on your home page</span>
            </label>
          </div>
        </div>
        <!-- /Show on home -->

        <div ng-show="collectionView.data.collection.in_carousel">
          <!-- Banner -->
          <div class="form-group vert-10">
            <label class="col-sm-3 control-label font-weight-200">Home page image<br><small>840x480 px</small></label>
            <div class="col-sm-9">
              <img ng-src="{{ collectionView.data.collection.banner }}" class="full-width gray-border"/>
            </div>
          </div>
          <!-- /Banner -->
          <!-- Headline -->
          <div class="form-group vert-5">
            <label class="col-sm-3 control-label font-weight-200">Home page headline</label>
            <div class="col-sm-4">
              <input type="text" ng-model="collectionView.data.collection.title" class="form-control" placeholder="Collection Title (required)">
            </div>
          </div>
          <!-- /Headline -->
        </div>

      </div>
    </div>
    <h4 class="vert-10 font-weight-200 text-muted">Edit product titles, prices, and descriptions below.</h4>
  </div>
  <!-- FORM -->

  <div class="full-width text-center margin-0">
    <pagination total-items="collectionView.data.count"
                items-per-page="collectionView.data.perPage"
                ng-model="collectionView.data.page"
                max-size="5"
                class="pagination-sm margin-0 vertical-align-top"
                previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"
                boundary-links="true"
                rotate="false"
                ng-change="collectionView.fns.update()">
    </pagination>
  </div>

  <div class="vert-20 text-left">
    <div ng-repeat="storeProduct in collectionView.data.storeProducts" class="well white-background box-shadow">
      <div class="row">
        <div class="col col-sm-4">
          <img ng-src="{{ storeProduct.image }}" class="img-responsive" />
        </div>
        <div class="col col-sm-8">
          <div class="full-width text-right">
            <div class="btn btn-link">Remove</div>
            <div class="btn btn-default">Save</div>
          </div>
          <div class="form-horizontal text-left">
            <!-- Title -->
            <div class="form-group vert-5">
              <label class="col-sm-2 control-label font-weight-200">Title</label>
              <div class="col-sm-10">
                <input type="text" ng-model="storeProduct.title" class="form-control" placeholder="Product Title (required)">
              </div>
            </div>
            <!-- /Title -->
            <!-- Price -->
            <div class="form-group vert-5">
              <label class="col-sm-2 control-label font-weight-200">Price</label>
              <div class="col-sm-6">
                <div class="vert-10 margin-top-0">
                  <div class="input-group" style="max-width: 170px;">
                    <span class="input-group-addon white-background"><i class="fa fa-fw fa-dollar"></i></span>
                    <input type="text" ng-model="calculated.selling_dollars" class="form-control inline-block text-right">
                    <span class="input-group-addon pad-5 white-background no-side-border">.</span>
                    <input type="text" ng-model="calculated.selling_cents" class="form-control inline-block" style="width: 50px;">
                  </div>
                </div>
                <div ng-showz="product.baseline_price && calculated.margin">
                  <div ng-show="calculated.margin > margins.max_margin || calculated.margin < margins.min_margin" class="text-info">
                    Price is out of range
                  </div>
                  <div ng-hidez="calculated.margin > margins.max_margin || calculated.margin < margins.min_margin" class="text-muted">
                    {{ calculated.margin * 100 | number:1 }}%&nbsp;margin. You earn&nbsp;<strong ng-bind="calculated.earnings | centToDollar"></strong>&nbsp;each sale.
                  </div>
                  <div class="vert-5 margin-top-0">
                    <div class="btn btn-xs btn-link" ng-click="calcByMargin(margins.start_margin)" style="padding-left: 0">Recommended</div>
                    <div class="btn btn-xs btn-link" ng-click="setSellingPrice(calculated.min_price)">Min</div>
                    <div class="btn btn-xs btn-link" ng-click="calcByMargin(margin)" ng-repeat="margin in margins.margin_array">{{ margin*100 }}%</div>
                  </div>
                </div>
              </div>
            </div>
            <!-- /Price -->
            <!-- Description -->
            <div class="form-group vert-5">
              <label class="col-sm-2 control-label font-weight-200">Description</label>
              <div class="col-sm-10">
                <textarea type="text" ng-model="storeProduct.content" class="form-control full-width" rows=5 placeholder="Product Description"></textarea>
              </div>
            </div>
            <!-- /Description -->
          </div>
        </div>
      </div>
      <!-- <pre>{{ storeProduct | json }}</pre> -->
    </div> <!-- /well -->
  </div>

  <div class="full-width text-center margin-0">
    <pagination total-items="users.data.inputs.count"
                items-per-page="users.data.inputs.perPage"
                ng-model="users.data.inputs.page"
                max-size="5"
                class="pagination-sm margin-0 vertical-align-top"
                previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"
                boundary-links="true"
                rotate="false"
                ng-change="users.fns.update()">
    </pagination>
  </div>
</div>

<div ng-if="collectionView.data.reading" class="full-width text-center vert-20 min-height-900">
  <h2><i class="fa fa-fw fa-circle-o-notch fa-spin text-info"></i></h2>
</div>
