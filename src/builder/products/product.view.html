<div class="full-width text-center pad-20">
  <div class="margin-0-auto" style="max-width: 920px;">

    <div class="well white-background box-shadow text-left">
      <!-- isBuilder ONLY -->
      <div class="text-muted line-height-1">
        <span ng-show="productView.data.calculated.margin == productView.data.margins.start_margin">Recommended price.</span>
        <span ng-hide="productView.data.calculated.margin == productView.data.margins.start_margin">{{ productView.data.calculated.margin * 100 | number:1 }}%&nbsp;margin.</span>
        &nbsp;You earn&nbsp;<strong ng-bind="productView.data.calculated.earnings | centToDollar"></strong>&nbsp;each sale.
      </div>
      <!-- priceOptions -->
      <div style="min-height: 120px;">
        <div class="vert-5 margin-top-0">
          <form ng-submit="productView.updatePricing()">
            <div class="input-group" style="max-width: 230px;">
              <span class="input-group-addon white-background"><i class="fa fa-fw fa-dollar"></i></span>
              <input type="text" ng-model="productView.data.calculated.selling_dollars" class="form-control inline-block text-right">
              <span class="input-group-addon pad-5 white-background no-side-border">.</span>
              <input type="text" ng-model="productView.data.calculated.selling_cents" class="form-control inline-block" style="width: 50px;" autofocus>
              <span class="input-group-btn">
                <button class="btn btn-primary" type="submit"><i class="fa fa-fw fa-check"></i></button>
              </span>
            </div>
          </form>
        </div>
        <div class="vert-5 margin-top-0">
          <a href ng-click="productView.fns.calcByMargin(productView.data.margins.min_margin)">Min price: {{ productView.product.baseline_price / (1 - productView.data.margins.min_margin) | centToDollar }}</a>
          <a href ng-click="productView.fns.calcByMargin(productView.data.margins.max_margin)">Max price: {{ productView.product.baseline_price / (1 - productView.data.margins.max_margin) | centToDollar }}</a>
          <a href ng-repeat="margin in productView.data.margins.margin_array"
              class="btn btn-link btn-xs"
              ng-class="{ active: margin == productView.data.calculated.margin }"
              ng-click="productView.fns.calcByMargin(margin)">
            {{ margin*100 }}<small><small>%</small></small>
          </a>
        </div>
      </div>
      <!-- /priceOptions -->
      <!-- /isBuilder ONLY -->
    </div>

    <div class="well white-background box-shadow text-left">
      <div class="container-fluid vert-10">
        <div class="row">
          <div class="col col-sm-7">
            <img ng-src="{{ productView.data.product.image_meta.main_image.url }}" class="full-width" name="mainImage">
            <!-- images -->
            <div ng-show="productView.data.product.image_meta.additional_images.length > 0" class="vert-5">
              <img ng-src="{{ productView.data.product.image_meta.main_image.url | thumbnail }}"
                   class="inline-block width-62 gray-border hover-pointer margin-2"
                   ng-click="productView.setMainImage(productView.data.product.image_meta.main_image)" />
              <img ng-repeat="img in productView.data.product.image_meta.additional_images"
                   ng-src="{{ img.url | thumbnail }}"
                   class="inline-block width-62 gray-border hover-pointer margin-2"
                   ng-click="productView.setMainImage(img)" />
            </div>
          </div>
          <div class="col col-sm-5">
            <div ng-hide="catalog.catalogData.loading">
              <h4 ng-bind="productView.data.product.title" class="vert-10"></h4>
              <h3 ng-bind="productView.data.calculated.selling_price | centToDollar" class="margin-0"></h3>
              <!-- customer view ONLY -->
              <div ng-show="isStore || productView.showCustomerView" class="position-relative">
                <div class="inline-block full-width vert-5"></div>
                <div class="btn btn-primary btn-block" ng-click="productView.addProductToCart(productView.product)">Add to cart</div>
                <div ng-if="isBuilder" class="popover popover-primary bottom in inline-block full-width max-width-300" style="top: 60px;" ng-show="productView.showAddPopover">
                  <div class="btn btn-xs btn-primary margin-5 pull-right" ng-click="productView.showAddPopover = false">close</div>
                  <div class="arrow arrow-primary"></div>
                  <div class="popover-title">Added</div>
                  <div class="popover-content">The customer would have just added this product to their cart for {{ productView.data.calculated.selling_price | centToDollar }}.</div>
                </div>
              </div>
              <!-- /customer view ONLY -->

            </div>
          </div>
        </div>
        <div class="row">
          <div class="col col-sm-12">
            <p ng-bind="productView.product.content" class="pad-10"></p>
            <table ng-show="productView.product.content_meta" class="table table-condensed table-striped table-bordered white-background">
              <tr ng-if="productView.product.content_meta.item_name">
                <td>Item</td>
                <td ng-bind="productView.product.content_meta.item_name"></td>
              </tr>
              <tr ng-if="productView.product.availability_meta.quantity">
                <td>Quantity Available</td>
                <td ng-bind="productView.product.availability_meta.quantity | truncateQty"></td>
              </tr>
              <tr ng-if="productView.product.shipping_price">
                <td>Shipping Cost</td>
                <td ng-bind="productView.product.shipping_price | centToDollar"></td>
              </tr>
              <tr ng-if="productView.product.content_meta.brand_name">
                <td>Brand Name</td>
                <td ng-bind="productView.product.content_meta.brand_name"</td>
              </tr>
              <tr ng-if="productView.product.content_meta.manufacturer">
                <td>Manufacturer</td>
                <td ng-bind="productView.product.content_meta.manufacturer"></td>
              </tr>
              <tr ng-if="productView.product.content_meta.condition">
                <td>Condition</td>
                <td ng-bind="productView.product.content_meta.condition"></td>
              </tr>
              <tr ng-if="productView.product.content_meta.warranty">
                <td>Warranty</td>
                <td ng-bind="productView.product.content_meta.warranty"></td>
              </tr>
              <tr ng-if="productView.product.content_meta.details">
                <td>Details</td>
                <td ng-bind-html="productView.product.content_meta.details | unboldHtml"></td>
              </tr>
            </table>
          </div>
        </div>
      </div>
    </div>



    <pre class="text-left">{{ productView.data | json }}</pre>
  </div>
</div>

<div class="full-width text-center vert-20">
  <h2 ng-show="productView.data.loading" class="margin-0-auto">
    <i class="fa fa-fw fa-circle-o-notch fa-spin text-info"></i>
  </h2>
</div>
